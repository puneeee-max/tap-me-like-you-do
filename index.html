<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For Muddamma ‚ù§Ô∏è</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

  <style>
    html, body {
      margin: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at top, #111, #000);
      color: #fff;
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
    }

    /* ---------- LAYERS ---------- */
    .layer-bg { z-index: 1; }
    .layer-visual { z-index: 3; pointer-events: none; position: relative; }
    .layer-text { z-index: 10; position: relative; }
    .layer-ui { z-index: 20; position: relative; }

    /* ---------- CENTER ---------- */
    .center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90vw;
      max-width: 600px;
      text-align: center;
    }

    /* ---------- TEXT ---------- */
    h1 { font-size: clamp(1.8rem, 6vw, 2.6rem); }
    h2 { font-size: clamp(1.4rem, 5vw, 2rem); }

    .glow {
      color: #ff5fa2;
      text-shadow: 0 0 10px #ff5fa2, 0 0 30px #ff5fa2;
    }

    /* ---------- BUTTONS ---------- */
    .buttons {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 30px;
    }

    button {
      padding: 14px 34px;
      font-size: 1.1rem;
      border-radius: 40px;
      border: none;
      cursor: pointer;
    }

    #yesBtn {
      background: #ff3b7f;
      color: #fff;
      animation: breathe 2s infinite;
    }

    #noBtn {
      background: #444;
      color: #fff;
      position: relative;
    }

    @keyframes breathe {
      0% { box-shadow: 0 0 10px #ff3b7f; }
      50% { box-shadow: 0 0 25px #ff9fc7; }
      100% { box-shadow: 0 0 10px #ff3b7f; }
    }

    /* ---------- HEARTS ---------- */
    .heart {
      position: absolute;
      font-size: 18px;
      animation: floatUp linear infinite;
      opacity: 0.7;
    }

    @keyframes floatUp {
      from { transform: translateY(100vh); }
      to { transform: translateY(-10vh); }
    }

    /* ---------- GIFS ---------- */
    #gifTop {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    #gifTop { top: 5%; width: 120px; }
    #gifBottom { bottom: 5%; width: 140px; }

    /* ---------- SLIDESHOW ---------- */
    #slideshow {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 5;
    }

    #slideshow img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* ---------- CONFETTI ---------- */
    .confetti {
      position: absolute;
      width: 8px;
      height: 8px;
      animation: confettiFall linear infinite;
    }

    @keyframes confettiFall {
      from { transform: translateY(-10vh) rotate(0deg); }
      to { transform: translateY(110vh) rotate(720deg); }
    }

    /* ---------- FINAL LOVE TEXT ---------- */
    #finalLove {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      text-align: center;
      font-family: 'Playfair Display', serif;
      z-index: 50;
    }

    #finalLoveMain {
      font-size: clamp(1.6rem, 5vw, 2.4rem);
      font-weight: 600;
      color: #fff;
      text-shadow: 0 0 12px rgba(255,80,150,0.8);
    }

    #finalLoveHeart {
      font-size: 2rem;
      margin-top: 12px;
      animation: heartbeat 1.4s infinite;
    }

    @keyframes heartbeat {
      0% { transform: scale(1); }
      25% { transform: scale(1.15); }
      50% { transform: scale(1); }
      75% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    /* ---------- TYPEWRITER FINAL TEXT ---------- */
    #finalText {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: clamp(2rem, 7vw, 3.2rem);
      font-family: 'Dancing Script', cursive;
      font-weight: 700;
      text-align: center;
      color: #ff5fa2;
      text-shadow: 0 0 20px #ff5fa2, 0 0 40px #ff9fc7;
      z-index: 40;
      letter-spacing: 0.4em;
      line-height: 1.2;
    }

    .typewriter-cursor {
      display: inline-block;
      width: 3px;
      height: 2.8em;
      background: #ff5fa2;
      animation: blink 1s infinite;
      margin-left: 0.1em;
      vertical-align: bottom;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    .heartbeat-heart {
      animation: heartbeat 1.2s infinite;
      display: inline-block;
      font-size: 1.2em;
    }

    #okBtn {
      display: none;
      position: fixed;
      bottom: 8%;
      left: 50%;
      transform: translateX(-50%);
      background: #ff3b7f;
      color: #fff;
      z-index: 30;
      padding: 16px 40px;
      font-size: 1.2rem;
    }
  </style>
</head>

<body>

  <audio id="music" src="love.mp3" loop></audio>

  <!-- VISUAL LAYER -->
  <div class="layer-visual">
    <img id="gifTop" src="love2.gif" alt="">
  </div>

  <!-- QUESTION -->
  <div class="center layer-ui" id="questionBox">
    <h1>Muddamma, will you be my Valentine? üíñ</h1>
    <p id="funnyText"></p>

    <div class="buttons">
      <button id="yesBtn">YES</button>
      <button id="noBtn">NO</button>
    </div>
  </div>

  <div id="yesText" class="glow layer-text" style="
    display:none;
    position:fixed;
    top:5%;
    width:100%;
    text-align:center;
    line-height:1.4;
  ">
    <div style="font-size:2.2em; font-weight:900;">Yayy..!! üíñ</div>
    <div style="font-size:2.2em; font-weight:900;">You are my Valentine</div>
    <div style="font-size:2.2em; font-weight:900;">Then, Now and Forever ‚ù§Ô∏è</div>
  </div>

  <div id="slideshow" class="layer-visual">
    <img id="slideImg" alt="">
  </div>

  <button id="okBtn" class="layer-ui">Ok now</button>

  <div id="finalText" class="layer-text"></div>


  <script>
    /* MUSIC */
    const music = document.getElementById("music");
    let started = false;
    document.addEventListener("click", () => {
      if (!started) {
        music.play().catch(()=>{});
        started = true;
      }
    }, { once:true });

    /* HEARTS */
    for (let i = 0; i < 25; i++) {
      const h = document.createElement("div");
      h.className = "heart layer-visual";
      h.innerHTML = "‚ù§Ô∏è";
      h.style.left = Math.random()*100 + "vw";
      h.style.animationDuration = 6 + Math.random()*6 + "s";
      document.body.appendChild(h);
    }

    /* CONFETTI */
    let confettiTimer;
    function startConfetti() {
      confettiTimer = setInterval(() => {
        const c = document.createElement("div");
        c.className = "confetti layer-visual";
        c.style.left = Math.random()*100 + "vw";
        c.style.background = ["orange","green","yellow","white"][Math.floor(Math.random()*4)];
        c.style.animationDuration = 3 + Math.random()*3 + "s";
        document.body.appendChild(c);
        setTimeout(()=>c.remove(),6000);
      }, 120);
    }
    function stopConfetti() {
      clearInterval(confettiTimer);
    }

    /* NO BUTTON */
    const funny = [
      "Thagolappa NO anthe!! üòè",
      "Naanu muddu nim gowdru ü•∫",
      "Bitbidthina sundari üòÇ",
      "Ishte Ishte, bele ne illa üíî",
      "Ashteya, sumne yes oththu üíò"
    ];

    document.getElementById("noBtn").onclick = () => {
      document.getElementById("funnyText").innerText =
        funny[Math.floor(Math.random()*funny.length)];
      document.getElementById("noBtn").style.transform =
        `translate(${Math.random()*160-80}px,${Math.random()*160-80}px)`;
    };

    /* YES FLOW */
    const photos = Array.from({length:10}, (_,i)=>`photo${i+1}.jpg`);
    let idx = 0;

    document.getElementById("yesBtn").onclick = () => {
      document.getElementById("questionBox").style.display = "none";
      document.getElementById("gifTop").style.display = "none";
      document.getElementById("yesText").style.display = "block";

      startConfetti();

      const show = document.getElementById("slideshow");
      const img = document.getElementById("slideImg");
      show.style.display = "block";
      img.src = photos[0];

      const timer = setInterval(()=>{
        idx++;
        if (idx < photos.length) img.src = photos[idx];
        else {
          clearInterval(timer);
          document.getElementById("okBtn").style.display = "block";
        }
      }, 2500);
    };

    /* OK NOW - TYPEWRITER EFFECT */
    document.getElementById("okBtn").onclick = function() {
      stopConfetti();
      this.disabled = true;
      this.innerText = "‚ù§Ô∏è";

      const img = document.getElementById("slideImg");
      img.style.transition = "transform 6s, filter 6s";
      img.style.transform = "scale(1.2)";
      img.style.filter = "blur(6px)";

      const text = document.getElementById("finalText");
      text.style.display = "flex";
      
      // TYPEWRITER TEXT with spaces and heart
      const typewriterText = "I   Love   You   Muddu   Hendathi ‚ù§Ô∏è";
      text.innerHTML = "";
      
      let i = 0;
      const typeInterval = setInterval(() => {
        if (i < typewriterText.length) {
          text.innerHTML += typewriterText[i++];
          
          // Blinking cursor effect
          if (i < typewriterText.length) {
            const cursor = document.createElement('span');
            cursor.className = 'typewriter-cursor';
            text.appendChild(cursor);
            
            setTimeout(() => {
              if (cursor.parentNode) cursor.remove();
            }, 100);
          }
        } else {
          clearInterval(typeInterval);
          
          // Heartbeat animation for final heart
          const hearts = text.querySelectorAll('‚ù§Ô∏è');
          hearts.forEach(heart => {
            heart.classList.add('heartbeat-heart');
          });
          
          // Show backup final love text
          setTimeout(() => {
            document.getElementById("finalLove").style.display = "block";
          }, 3000);
        }
      }, 150); // Typing speed
    };
  </script>

</body>
</html>
